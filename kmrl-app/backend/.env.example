# KMRL Unified System Environment Configuration
# Copy this file to .env and configure your settings

# =============================================================================
# CORE SYSTEM CONFIGURATION
# =============================================================================

# API Gateway Configuration
API_ENDPOINT=http://localhost:3000
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=3000

# Database Configuration
DATABASE_URL=postgresql://kmrl_user:kmrl_password@localhost:5432/kmrl_db
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=kmrl_db
POSTGRES_USER=kmrl_user
POSTGRES_PASSWORD=kmrl_password

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# MinIO Object Storage Configuration
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=kmrl-documents
MINIO_USE_SSL=false

# =============================================================================
# GOOGLE SERVICES CONFIGURATION (ACTIVE CONNECTORS)
# =============================================================================

# Gmail Connector Configuration
GMAIL_CREDENTIALS_FILE=/path/to/your/gmail-credentials.json
GMAIL_TOKEN_FILE=/path/to/your/gmail-token.json
GMAIL_TARGET_LABELS=INBOX,IMPORTANT
GMAIL_SYNC_INTERVAL=120

# Google Drive Connector Configuration
GOOGLE_DRIVE_CREDENTIALS_FILE=/path/to/your/gdrive-credentials.json
GOOGLE_DRIVE_TOKEN_FILE=/path/to/your/gdrive-token.json
GOOGLE_DRIVE_FOLDER_ID=your_folder_id_here
GOOGLE_DRIVE_SYNC_INTERVAL=120
SKIP_GOOGLE_DOCS=true

# OAuth2 Configuration (for Google services)
OAUTH2_REDIRECT_PORT=8080
OAUTH2_REDIRECT_URI=http://localhost:8080/callback

# =============================================================================
# DISABLED CONNECTORS (NOT ACTIVE)
# =============================================================================

# Maximo Connector (DISABLED)
# MAXIMO_BASE_URL=https://your-maximo-instance.com
# MAXIMO_USERNAME=your_username
# MAXIMO_PASSWORD=your_password
# MAXIMO_API_VERSION=v1

# WhatsApp Connector (DISABLED)
# WHATSAPP_ACCESS_TOKEN=your_whatsapp_token
# WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id
# WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_verify_token
# WHATSAPP_API_VERSION=v18.0
# WHATSAPP_INCLUDE_MEDIA=true
# WHATSAPP_INCLUDE_TEXT=true
# WHATSAPP_TARGET_NUMBERS=+1234567890,+0987654321

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================

# Celery Worker Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# Worker Concurrency
GATEWAY_WORKER_CONCURRENCY=2
CONNECTOR_WORKER_CONCURRENCY=2
DOCUMENT_WORKER_CONCURRENCY=1
RAG_WORKER_CONCURRENCY=1
NOTIFICATION_WORKER_CONCURRENCY=1

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# API Security
API_KEY_HEADER=X-API-Key
API_KEY_VALUE=your-secure-api-key-here
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# File Security
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,jpg,jpeg,png,csv,xlsx
VIRUS_SCAN_ENABLED=true
VIRUS_SCAN_ENGINE=clamav

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/kmrl.log

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=8002
METRICS_INTERVAL=60

# Health Check Configuration
HEALTH_CHECK_INTERVAL=60
HEALTH_CHECK_TIMEOUT=30

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================

# Document Processing
DOCUMENT_PROCESSING_TIMEOUT=300
TEXT_EXTRACTION_TIMEOUT=120
OCR_ENABLED=true
LANGUAGE_DETECTION_ENABLED=true

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Development Mode
DEBUG=false
RELOAD=false
TESTING=false

# =============================================================================
# NOTES
# =============================================================================

# 1. Only Gmail and Google Drive connectors are active by default
# 2. Other connectors (Maximo, WhatsApp, SharePoint) are disabled
# 3. Set up Google OAuth2 credentials for Gmail and Google Drive
# 4. Ensure PostgreSQL, Redis, and MinIO are running
# 5. Update file paths to match your system
# 6. Generate secure API keys for production use

# =============================================================================
# GOOGLE OAUTH2 CONFIGURATION (ACTIVE)
# =============================================================================

# Google OAuth2 Credentials (for both Gmail and Google Drive)
GOOGLE_CLIENT_ID=581583075277-u0ajoeieot2vf7c91g72a7c9cqa2uebs.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_PROJECT_ID=cursor-466200

# Gmail Connector Configuration
GMAIL_TOKEN_FILE=/path/to/your/gmail-token.json
GMAIL_TARGET_LABELS=INBOX,IMPORTANT
GMAIL_SYNC_INTERVAL=120

# Google Drive Connector Configuration
GOOGLE_DRIVE_TOKEN_FILE=/path/to/your/gdrive-token.json
GOOGLE_DRIVE_FOLDER_ID=your_folder_id_here
GOOGLE_DRIVE_SYNC_INTERVAL=120
SKIP_GOOGLE_DOCS=true

# OAuth2 Configuration (for Google services)
OAUTH2_REDIRECT_PORT=8080
OAUTH2_REDIRECT_URI=http://localhost:8080/callback
